<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MiGuardia</title>
    <link rel="stylesheet" href="/styles - css/styleIndxAdmin.css">
</head>
<body>
    <header>
        <div class="logo">
            <img src="/assets/img/icon.MiGuardia.jpg" alt="MiGuardia Logo">
            <h1>MiGuardia</h1>
        </div>
        <nav>
            <ul>
                <li><a href="#">Inicio</a></li>
                <li><a href="#">Contactanos</a></li>
                <li><a href="#">Sobre miGuardia</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hospital-info">
            <div><h2>Hospital General de Agudos José María Ramos Mejía</h2></div>
            
            <div class="cards">
                <div class="card saturated">
                    <h3>Guardia clínica</h3>
                    <p>Planta Baja</p>
                    <p class="status">Saturado</p>
                </div>
                <div class="card saturated">
                    <h3>Guardia Oftalmologica</h3>
                    <p>Planta Baja</p>
                    <p class="status">Saturado</p>
                </div>
                <div class="card normal">
                    <h3>Guardia Ginecología</h3>
                    <p>Piso 2</p>
                    <p class="status">Normal</p>
                </div>
                <div class="card normal">
                    <h3>Guardia Pediatrica</h3>
                    <p>Planta Baja</p>
                    <p class="status">Normal</p>
                </div>
                <div class="card admin">
                    <h3>Administración Ginecología</h3>
                    <p>656-656-6545</p>
                    <p>555-000-525</p>
                </div>
            </div>
        </section>

        <section class="feedback">
            <div class="feedback-card">
                <p>"A terrific piece of praise"</p>
                <p class="name">Name</p>
                <p class="description">Description</p>
            </div>
            <div class="feedback-card">
                <p>"A fantastic bit of feedback"</p>
                <p class="name">Name</p>
                <p class="description">Description</p>
            </div>
            <div class="feedback-card">
                <p>"A genuinely glowing review"</p>
                <p class="name">Name</p>
                <p class="description">Description</p>
            </div>
        </section>

        <section class="comments">
            <h3>Deja tu comentario</h3>
            <textarea></textarea>
            <button>Enviar</button>
        </section>
    </main>

    <footer>
        <div class="contacts">
            <p>SAME: 555-000-555</p>
            <p>Bomberos: 000-555-000</p>
        </div>
        <div class="footer-nav">
            <ul>
                <li><a href="#">Nosotros</a></li>
                <li><a href="#">Acceso de Usuarios</a></li>
                <li><a href="#">Login</a></li>
            </ul>
        </div>
    </footer>

<script>

document.addEventListener('DOMContentLoaded', function () {
    // Obtener el nombre del hospital de la URL
    const urlParams = new URLSearchParams(window.location.search);
    const nombreHospital = urlParams.get('nombre');

    if (nombreHospital) {
        // Cargar los datos del hospital
        fetch('../InfoGuardia/guardias.json')
            .then(response => response.json())
            .then(hospitales => {
                const hospital = hospitales.find(h => h.name === decodeURIComponent(nombreHospital));
                if (hospital) {
                    mostrarDetallesHospital(hospital);
                } else {
                    mostrarError('Hospital no encontrado');
                }
            })
            .catch(error => {
                console.error('Error al cargar los datos del hospital:', error);
                mostrarError('Error al cargar los datos del hospital');
            });
    } else {
        mostrarError('Nombre del hospital no especificado');
    }

    function mostrarDetallesHospital(hospital) {
        document.getElementById('hospital-name').textContent = hospital.name;
        
        const detallesContainer = document.getElementById('hospital-details');
        detallesContainer.innerHTML = `
            <div class="guardia-clinica">
                <h2>Guardia Clínica</h2>
                <p>Estado: ${hospital.guardiaClinica || 'No disponible'}</p>
            </div>
            <div class="guardia-oftalmologica">
                <h2>Guardia Oftalmológica</h2>
                <p>Estado: ${hospital.guardiaOftalmologica || 'No disponible'}</p>
            </div>
            <div class="guardia-ginecologia">
                <h2>Guardia Ginecología</h2>
                <p>Estado: ${hospital.guardiaGinecologia || 'No disponible'}</p>
            </div>
            <div class="guardia-pediatrica">
                <h2>Guardia Pediátrica</h2>
                <p>Estado: ${hospital.guardiaPediatrica || 'No disponible'}</p>
            </div>
            <div class="administracion-ginecologia">
                <h2>Administración Ginecología</h2>
                <p>Teléfono: ${hospital.telefonoAdminGinecologia || 'No disponible'}</p>
            </div>
        `;
    }

    function mostrarError(mensaje) {
        document.getElementById('hospital-name').textContent = 'Error';
        document.getElementById('hospital-details').innerHTML = `<p>${mensaje}</p>`;
    }
});
</script>

</body>
</html>
